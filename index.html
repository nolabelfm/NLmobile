<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monochromatic Black & White Player</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <style>
        /* --- Monochromatic Black & White Aesthetic --- */
        
        /* Define Colors */
        :root {
            --dark-bg: #000000; 
            --card-bg: #000000; 
            --text-light: #ffffff; /* Pure white text */
            --text-muted: #aaaaaa; /* Medium gray for secondary text */
            --highlight-color: #dddddd; /* New: Light gray/white for highlights */
            --control-color: #555555; /* Dark gray for control track */
            --primary-border-color: #333333; 
            --subtle-bg-hover: #1a1a1a;
        }

        body {
            margin: 0;
            font-family: 'Roboto', sans-serif;
            overflow: hidden; 
        }
        
        .wrapper {
            background: var(--dark-bg);
            height: 100vh; 
            width: 100vw; 
            position: fixed;
            top: 0;
            left: 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .player {
            width: 320px;
            height: 568px;
            background: var(--card-bg);
            border-radius: 8px; 
            border: 1px solid var(--primary-border-color); 
            position: relative;
            color: var(--text-light); 
            padding-top: 30px; 
        }

        .image {
            display: block;
            border-radius: 8px;
            height: 60%; 
            position: relative;
            background-color: #333; 
            background-size: cover;
            background-position: center center;
            transition: background-image 0.3s ease-in-out;
            margin: 0 10px;
            border: 1px solid var(--primary-border-color); 
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5); 
        }
        
        .track-info {
            width: 90%;
            text-align: center;
            padding: 15px 0 10px 0;
            margin: 0 auto;
        }
        
        .song-name {
            font-size: 18px;
            font-weight: bold;
            display: block;
            color: var(--text-light);
            margin-bottom: 5px;
        }

        .artist-name {
            font-size: 14px;
            display: block;
            color: var(--text-muted);
        }

        .time-bar {
            width: 90%;
            margin: 0 auto 10px; 
            display: flex;
            align-items: center;
            justify-content: space-between;
            color: var(--text-muted);
            font-size: 10px;
        }
        
        .progress-container {
            flex-grow: 1;
            margin: 0 8px;
            height: 4px;
            background: var(--control-color); 
            border-radius: 2px;
            cursor: pointer;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: var(--highlight-color); /* Now white/light gray */
            border-radius: 2px;
            transition: width 0.1s linear;
        }

        .controls {
            width: 100%;
            height: 10%;
            display: flex;
            align-items: center;
            justify-content: space-evenly; 
            padding: 10px 0;
        }

        .player-controls_btn {
            color: var(--text-light);
            cursor: pointer;
            text-align: center;
            padding: 10px 15px;
            transition: color 0.2s, border-color 0.2s, background-color 0.2s;
            border: 1px solid var(--primary-border-color);
            border-radius: 50%; 
        }

        .player-controls_btn:hover {
            color: var(--highlight-color); /* Now white/light gray */
            background-color: var(--subtle-bg-hover);
        }
        
        .player-controls__btn_play {
            width: 52px;
            height: 52px;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .player-controls__btn_play i {
            font-size: 36px; 
            color: var(--text-light);
            transition: color 0.2s;
        }

        .player-controls__btn_play:hover i {
            color: var(--highlight-color); /* Now white/light gray */
        }

        .player-controls_btn i {
            font-size: 24px; 
            line-height: 1;
        }
        
        /* Playlist/Search Button */
        .playlist-search-btn {
            height: calc(100% - 30px - 60% - 15px - 10px - 10% - 20px); 
            min-height: 50px;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--text-light);
            background: var(--card-bg); 
            cursor: pointer;
            border-top: 1px solid var(--primary-border-color); 
            transition: background 0.2s;
        }

        .playlist-search-btn:hover {
            background: var(--subtle-bg-hover); 
        }
        
        .playlist-search-btn i {
            margin-right: 10px;
            font-size: 20px;
            color: var(--highlight-color); /* Now white/light gray */
        }
        
        /* Playlist Overlay Styles */
        .playlist-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.98); 
            z-index: 10;
            display: none; 
            flex-direction: column;
            padding: 20px 0;
            border: 1px solid var(--primary-border-color); 
            border-radius: 8px;
        }
        
        .playlist-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 15px;
            margin-bottom: 15px;
            color: var(--text-light);
        }

        .playlist-header i {
            cursor: pointer;
            color: var(--text-light);
        }

        .playlist-controls {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
            padding: 0 15px;
        }
        
        /* Search Bar Styling */
        .search-container {
            padding: 0 15px;
            margin-bottom: 15px;
        }

        #playlist-search-input {
            width: calc(100% - 20px);
            padding: 10px;
            border: 1px solid var(--primary-border-color); 
            border-radius: 5px;
            background-color: var(--subtle-bg-hover);
            color: var(--text-light);
            font-size: 16px;
        }
        
        /* Playlist list styling */
        .playlist-list {
            list-style: none;
            padding: 0;
            margin: 0;
            overflow-y: auto;
        }

        .playlist-item {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            cursor: pointer;
            border-bottom: 1px solid var(--primary-border-color); 
            transition: background 0.1s;
        }

        .playlist-item:hover {
            background: var(--subtle-bg-hover);
        }
        
        .playlist-item.active {
            color: var(--highlight-color); /* Now white/light gray */
            /* Using a subtle white tint on black background for active state */
            background: rgba(255, 255, 255, 0.1); 
        }

        .playlist-item-cover {
            width: 40px;
            height: 40px;
            border-radius: 4px;
            background-size: cover;
            background-position: center center;
            margin-right: 10px;
        }
        
        .playlist-item-info {
            flex-grow: 1;
        }

        .playlist-item-title {
            font-weight: bold;
            font-size: 14px;
            color: var(--text-light);
        }

        .playlist-item-artist {
            font-size: 12px;
            color: var(--text-muted);
        }
        
        .playlist-item.active .playlist-item-artist {
            color: var(--highlight-color); /* Now white/light gray */
        }
        
        /* Overlay Controls (Repeat/Shuffle) */
        .playlist-controls .control-btn {
            cursor: pointer;
            color: var(--control-color);
            transition: color 0.2s, border-color 0.2s, background-color 0.2s;
            border: 1px solid var(--primary-border-color);
            border-radius: 5px;
            padding: 5px 10px;
        }

        .playlist-controls .control-btn.active {
            color: var(--highlight-color); /* Now white/light gray */
            border-color: var(--highlight-color); /* Now white/light gray */
        }

        .playlist-controls .control-btn:hover {
            color: var(--highlight-color);
            background-color: var(--subtle-bg-hover);
        }


    </style>
</head>
<body>

<div id="playlist-data" style="display:none;">
    <audio id="audio-8" src="https://dl.dropbox.com/scl/fi/etd0cn9jb22zdu3h8so70/FINAL-Trax-x-Lucki.mp3?rlkey=wpyjgghjmjijocf4ugai3cfwj&st=jlus4apa" preload="metadata" data-title="Final Trax x Lucki -TraxTy" data-artist-name="TraxTy" data-cover="https://i.imgur.com/t5EIvI2.png"></audio>
    <audio id="audio-1" src="https://dl.dropbox.com/scl/fi/keh190eep2ckjqvxgcjd4/Gandhi-s-motivating-speech-about-peace-under-british-protectorate-india-translated-in-english.mp3?rlkey=cx1y4sehbf0w2pi3huqwifk7f&st=rpwjkymk" preload="metadata" data-title="West Coast x Nostalgic type beat LEFT TO THE RIGHT G-funk Beat - NYXAL" data-artist-name="nyxal" data-cover="https://i.imgur.com/OWeE7ad.jpeg"></audio>
    <audio id="audio-2" src="https://mcdn.podbean.com/mf/download/qv34himpz3xpzcvd/audio1.mp3" preload="metadata" data-title="prodbysfx - pusha-t" data-artist-name="prodbysfx" data-cover="https://i.imgur.com/fL8Tc4g.jpeg"></audio>
    <audio id="audio-3" src="https://mcdn.podbean.com/mf/web/49w3xjhenz4ym3mi/audio2.mp3" preload="metadata" data-title="Nba Youngboy Type beat" data-artist-name="prodbysfx" data-cover="https://i.imgur.com/fL8Tc4g.jpeg"></audio>
    <audio id="audio-4" src="https://mcdn.podbean.com/mf/web/fkycn276hxm7738c/audio3_1_7v21c.mp3" preload="metadata" data-title="Experimental Trap" data-artist-name="moutix" data-cover="https://i.imgur.com/QLK7JoH.jpeg"></audio>
    <audio id="audio-5" src="https://dl.dropbox.com/scl/fi/yvpwn44h7ou4x1wjlsx7c/audio4.mp3?rlkey=3xm8b2v2nek044j4iejfs51ao&e=1&st=4beux3gy" preload="metadata" data-title="Detroit Type Beat x YN Jay" data-artist-name="prodbysfx" data-cover="https://i.imgur.com/fL8Tc4g.jpeg"></audio>
    <audio id="audio-6" src="https://dl.dropboxusercontent.com/scl/fi/xiwxvwxzdk6cs5umiznuq/Lil-Baby-X-21-Savage-X-Ot7QUANNY-Type-Beat.mp3?rlkey=2vfh8p10hhzpkhg0vwggpc6od&st=m8x21crw" preload="metadata" data-title=" Lil Baby X 21 Savage X Ot7QUANNY - Type Beat" data-artist-name="prodbysfx" data-cover="https://i.imgur.com/fL8Tc4g.jpeg"></audio>
    <audio id="audio-7" src="https://dl.dropbox.com/scl/fi/jmogebl0320h1gfhdwxcw/the-2008-housing-crisis.mp3?rlkey=np15cpupfn61tadbc03vlqpdb&st=utta4pfi" preload="metadata" data-title="sailorsdream! - EmEeKayOh" data-artist-name="EmEeKayOh" data-cover="https://i.imgur.com/XWMhqnE.png"></audio>
    <audio id="audio-9" src="https://dl.dropbox.com/scl/fi/6dv5setl8u8w04lcy290j/FREE-NBA-Youngboy-Type-Beat-Still-Flexin-Still-Steppin-1.mp3?rlkey=5ym14qse3ghg4597k0nljbu6d&st=i7vi48ii" preload="metadata" data-title="Still Flexin, Still Steppin (nba youngboy type beat)" data-artist-name="prodbysfx" data-cover="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT8ATloFymgQIwgDJj-LfWu6n4tIbqnNmiVXg&s"></audio>
    <audio id="audio-10" src="https://dl.dropbox.com/scl/fi/pzw1t9rbdied71pheqagi/free-esdeekid-fakemink-type-beat-ion.mp3?rlkey=vti9sc7ouev1t91cpl8bbdvd9&st=g00765b4" preload="metadata" data-title="[free] esdeekid fakemink type beat - ion" data-artist-name="prodnemo" data-cover="https://i.imgur.com/ybVmXXA.jpeg"></audio>
</div>

<div class="wrapper">
    <div class="card player">
        
        <div class="playlist-overlay" id="playlist-overlay">
            <div class="playlist-header">
                <h2>Search Playlist</h2>
                <i class="material-icons" id="close-playlist-btn">close</i>
            </div>
            
            <div class="search-container">
                <input type="text" id="playlist-search-input" placeholder="Search by Song Title or Artist...">
            </div>

            <div class="playlist-controls">
                <div class="control-btn" id="overlay-repeat-btn"><i class="material-icons" id="overlay-repeat-icon">repeat</i></div>
                <div class="control-btn" id="overlay-shuffle-btn"><i class="material-icons" id="overlay-shuffle-icon">shuffle</i></div>
            </div>

            <ul class="playlist-list" id="playlist-list">
                </ul>
        </div>

        <div class="image" id="player-image">
            </div>
        
        <div class="track-info">
            <h6 class="song-name" id="current-song-name"></h6>
            <span class="artist-name" id="current-artist-name"></span>
        </div>
        
        <div class="time-bar">
            <span id="current-time">0:00</span>
            <div class="progress-container" id="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            <span id="duration">0:00</span>
        </div>
        
        <div class="controls">
            <div class="player-controls_btn player-controls__btn_prev" id="player-controls__btn_prev"><i class="material-icons">skip_previous</i></div>
            <div class="player-controls_btn player-controls__btn_play" id="play-pause-btn">
                <i class="material-icons" id="play-pause-icon">play_arrow</i>
            </div>
            <div class="player-controls_btn player-controls__btn_next" id="player-controls__btn_next"><i class="material-icons">skip_next</i></div>
        </div>
        
        <div class="playlist-search-btn" id="open-playlist-btn">
            <i class="material-icons">search</i>
            <span>SEARCH PLAYLIST</span>
        </div>
    </div>
</div>

<audio id="audio-player" src=""></audio>

<script>
    // --- 1. SETUP AND DATA EXTRACTION (Unchanged) ---
    const audioPlayer = document.getElementById('audio-player');
    const playPauseBtn = document.getElementById('play-pause-btn');
    const playPauseIcon = document.getElementById('play-pause-icon');
    const prevBtn = document.getElementById('player-controls__btn_prev');
    const nextBtn = document.getElementById('player-controls__btn_next');
    
    const overlayShuffleBtn = document.getElementById('overlay-shuffle-btn');
    const overlayShuffleIcon = document.getElementById('overlay-shuffle-icon');
    const overlayRepeatBtn = document.getElementById('overlay-repeat-btn');
    const overlayRepeatIcon = document.getElementById('overlay-repeat-icon');
    
    const songNameEl = document.getElementById('current-song-name');
    const artistNameEl = document.getElementById('current-artist-name');
    const playerImageEl = document.getElementById('player-image');

    const currentTimeEl = document.getElementById('current-time');
    const durationEl = document.getElementById('duration');
    const progressBar = document.getElementById('progress-bar');
    const progressContainer = document.getElementById('progress-container');

    const playlistOverlay = document.getElementById('playlist-overlay');
    const openPlaylistBtn = document.getElementById('open-playlist-btn');
    const closePlaylistBtn = document.getElementById('close-playlist-btn');
    const playlistListEl = document.getElementById('playlist-list');
    const searchInput = document.getElementById('playlist-search-input'); 

    let currentTrackIndex = 0;
    let isShuffling = false;
    let repeatMode = 0; 
    
    const playlist = Array.from(document.querySelectorAll('#playlist-data audio')).map(audio => ({
        src: audio.src,
        title: audio.getAttribute('data-title'),
        artist: audio.getAttribute('data-artist-name'),
        cover: audio.getAttribute('data-cover')
    }));
    
    function formatTime(seconds) {
        if (isNaN(seconds) || seconds < 0) return "0:00";
        const minutes = Math.floor(seconds / 60);
        const remainingSeconds = Math.floor(seconds % 60);
        return `${minutes}:${remainingSeconds < 10 ? '0' : ''}${remainingSeconds}`;
    }

    // --- 2. PLAYER LOGIC FUNCTIONS (Unchanged) ---
    
    function loadTrack(index) {
        currentTrackIndex = index;
        const track = playlist[currentTrackIndex];
        
        audioPlayer.src = track.src;
        audioPlayer.load(); 
        
        songNameEl.textContent = track.title;
        artistNameEl.textContent = track.artist;
        playerImageEl.style.backgroundImage = `url('${track.cover}')`;
        
        const items = playlistListEl.querySelectorAll('.playlist-item');
        items.forEach((item, i) => {
            item.classList.toggle('active', i === currentTrackIndex);
        });

        progressBar.style.width = '0%';
        currentTimeEl.textContent = '0:00';
        durationEl.textContent = '0:00';
    }
    
    function playTrack() {
        if (audioPlayer.src) {
             audioPlayer.play().catch(error => {
                console.error("Autoplay failed:", error);
                playPauseIcon.textContent = 'play_arrow';
            });
            playPauseIcon.textContent = 'pause';
        }
    }

    function pauseTrack() {
        audioPlayer.pause();
        playPauseIcon.textContent = 'play_arrow';
    }

    function nextTrack() {
        let nextIndex = currentTrackIndex;

        if (isShuffling) {
            do {
                nextIndex = Math.floor(Math.random() * playlist.length);
            } while (playlist.length > 1 && nextIndex === currentTrackIndex);
        } else {
            nextIndex = (currentTrackIndex + 1) % playlist.length;
        }

        loadTrack(nextIndex);
        playTrack();
    }
    
    function prevTrack() {
        let prevIndex = (currentTrackIndex - 1 + playlist.length) % playlist.length;
        loadTrack(prevIndex);
        playTrack();
    }
    
    function renderPlaylist() {
        playlistListEl.innerHTML = '';
        playlist.forEach((track, index) => {
            const li = document.createElement('li');
            li.className = 'playlist-item';
            if (index === currentTrackIndex) {
                li.classList.add('active');
            }
            li.setAttribute('data-index', index);
            
            li.setAttribute('data-title', track.title.toLowerCase());
            li.setAttribute('data-artist', track.artist.toLowerCase());

            li.innerHTML = `
                <div class="playlist-item-cover" style="background-image: url('${track.cover}')"></div>
                <div class="playlist-item-info">
                    <div class="playlist-item-title">${track.title}</div>
                    <div class="playlist-item-artist">${track.artist}</div>
                </div>
            `;
            
            li.addEventListener('click', () => {
                loadTrack(index);
                playTrack();
                playlistOverlay.style.display = 'none';
            });
            
            playlistListEl.appendChild(li);
        });

        overlayShuffleIcon.parentElement.classList.toggle('active', isShuffling);
        overlayRepeatIcon.parentElement.classList.toggle('active', repeatMode !== 0);
        overlayRepeatIcon.textContent = repeatMode === 2 ? 'repeat_one' : 'repeat';
    }

    function filterPlaylist() {
        const searchTerm = searchInput.value.toLowerCase();
        const items = playlistListEl.querySelectorAll('.playlist-item');

        items.forEach(item => {
            const title = item.getAttribute('data-title');
            const artist = item.getAttribute('data-artist');
            
            if (title.includes(searchTerm) || artist.includes(searchTerm)) {
                item.style.display = 'flex';
            } else {
                item.style.display = 'none';
            }
        });
    }

    // --- 3. EVENT LISTENERS (Unchanged) ---

    playPauseBtn.addEventListener('click', () => {
        if (audioPlayer.paused) {
            playTrack();
        } else {
            pauseTrack();
        }
    });
    
    nextBtn.addEventListener('click', nextTrack);
    prevBtn.addEventListener('click', prevTrack);
    
    audioPlayer.addEventListener('ended', () => {
        if (repeatMode === 2) {
            audioPlayer.play();
        } else if (repeatMode === 1) {
            nextTrack();
        } else {
            if (!isShuffling && currentTrackIndex === playlist.length - 1) {
                pauseTrack();
            } else {
                 nextTrack();
            }
        }
    });

    audioPlayer.addEventListener('loadedmetadata', () => {
        durationEl.textContent = formatTime(audioPlayer.duration);
    });

    audioPlayer.addEventListener('timeupdate', () => {
        const currentTime = audioPlayer.currentTime;
        const duration = audioPlayer.duration;
        const progressPercent = (currentTime / duration) * 100;
        
        progressBar.style.width = progressPercent + '%';
        currentTimeEl.textContent = formatTime(currentTime);
    });
    
    progressContainer.addEventListener('click', (e) => {
        const width = progressContainer.clientWidth;
        const clickX = e.offsetX;
        const duration = audioPlayer.duration;
        
        audioPlayer.currentTime = (clickX / width) * duration;
    });

    overlayShuffleBtn.addEventListener('click', () => {
        isShuffling = !isShuffling;
        overlayShuffleIcon.parentElement.classList.toggle('active', isShuffling);
    });

    overlayRepeatBtn.addEventListener('click', () => {
        repeatMode = (repeatMode + 1) % 3;
        
        overlayRepeatIcon.parentElement.classList.toggle('active', repeatMode !== 0);
        overlayRepeatIcon.textContent = repeatMode === 2 ? 'repeat_one' : 'repeat';
    });
    
    openPlaylistBtn.addEventListener('click', () => {
        renderPlaylist(); 
        playlistOverlay.style.display = 'flex';
        searchInput.focus(); 
    });

    closePlaylistBtn.addEventListener('click', () => {
        playlistOverlay.style.display = 'none';
        searchInput.value = ''; 
    });
    
    searchInput.addEventListener('input', filterPlaylist);

    // --- Initial Load ---
    if (playlist.length > 0) {
        loadTrack(currentTrackIndex);
    } else {
        songNameEl.textContent = "No Song Loaded";
        artistNameEl.textContent = "N/A";
    }
</script>

</body>
</html>